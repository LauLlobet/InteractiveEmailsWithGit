var pushEventProperties = extractBranchAndRepositoryStringsFromWebhookNoification(httprequest);

downloadGitPushFromRepositoryAndBranch(pushEventProperties.repository, pushEventProperties.branch,"/tmp");

var mapOfImagesPath = storeInFIrebaseAllInagesAndGetItsReferencesPathMap("/tmp","IEWG.firebase.com"); // authenification token de firebase

//"http://IEWG.firebase.com/header.jpg" === mapOfImagesPath["header.jpg"];

//"http://IEWG.firebase.com/868658658675785787867.jpg" === mapOfImagesPath["header.jpg"];


var indexHtml = extractIndexFromFolder("/tmp");


/*

<body>
    sdhbisdhbisdn
    <img src="header.jpg"/>
    sdfsdfds
    <img src="person.jpg"/>
*/


var indexHtmlCloudified = replacePathsToImagesWithCloudOnes(indexHtml, mapOfImagesPath);


/*

<body>
    sdhbisdhbisdn
    <img src="http://IEWG.firebase.com/header.jpg"/>
    sdfsdfds
    <img src="http://IEWG.firebase.com/person.jpg"/>
*/


sendEmailToALlMembersOfEmailList(indexHtmlCloudified,"GNCA emailList"); // authenification token de mailchimp

